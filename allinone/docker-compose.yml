# All-in-One Docker Compose
# Hub + WireMock + nginx in a single container
# Usage: cd allinone && docker compose up -d
#
# Access URLs:
#   - Hub UI: http://localhost:3000/hub/
#   - WireMock Admin API: http://localhost:3000/__admin/
#   - Mock responses: http://localhost:3000/

services:
  wiremock-hub-allinone:
    container_name: wiremock-hub-allinone
    image: wiremock-hub-allinone
    build:
      context: ..
      dockerfile: allinone/Dockerfile
    ports:
      - "3000:3000"
    volumes:
      - wiremock-hub-data:/data
    environment:
      - DATABASE_URL=file:/data/wiremock-hub.db

volumes:
  wiremock-hub-data:
